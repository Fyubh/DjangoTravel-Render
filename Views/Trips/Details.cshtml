@model Jango_Travel.Models.Trip
@{
    ViewData["Title"] = Model.Title;
    Layout = "~/Views/Trips/_Layout.cshtml";
}

<div class="max-w-5xl mx-auto px-4 py-8">
    <a href="/Trips" class="text-blue-600 dark:text-blue-400 hover:underline text-sm">← Back to trips</a>

    <h1 class="text-4xl font-bold mt-4 mb-1 text-gray-900 dark:text-gray-100">@Model.Title</h1>
    <p class="text-gray-500 dark:text-gray-400">@Model.City?.Name, @Model.City?.Country?.Name</p>
    <p class="text-gray-600 dark:text-gray-300 mt-2">
        ✈️ You have visited <strong>@Model.City?.Name</strong>
        <strong>@ViewData["VisitCount"]</strong> times.
    </p>
    <p class="text-gray-400 dark:text-gray-500 mb-6 text-sm">
        @Model.StartDate.ToString("MMM d, yyyy") – @Model.EndDate.ToString("MMM d, yyyy")
    </p>

    <div class="prose max-w-none mb-8 text-gray-800 dark:text-gray-100">
        @if (!string.IsNullOrWhiteSpace(Model.DescriptionHtml))
        {
            <article class="prose max-w-none">
                @Html.Raw(Model.DescriptionHtml)
            </article>
        }
        else
        {
            <p class="italic text-gray-400 dark:text-gray-500">No description yet.</p>
        }
    </div>

    @if (Model.Photos.Any())
    {
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
            @foreach (var photo in Model.Photos)
            {
                <div class="overflow-hidden rounded-2xl shadow-sm bg-white dark:bg-gray-800">
                    <img src="@photo.Url"
                         alt="@Model.Title"
                         class="w-full h-64 object-cover hover:scale-105 transition-transform duration-300" />
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-gray-400 dark:text-gray-500 italic">No photos yet.</p>
    }
</div>